[gd_scene load_steps=18 format=3 uid="uid://cd02euysm8rbg"]

[ext_resource type="Script" uid="uid://diyu47502pgev" path="res://Scripts/player.gd" id="1_cvnsp"]
[ext_resource type="PackedScene" uid="uid://wu2trw3ea4e1" path="res://Assets/AnimationLibrary_Godot_Standard.glb" id="2_6t5aa"]
[ext_resource type="AudioStream" uid="uid://cc1a346n6l53h" path="res://Sounds/footsteps_1.mp3" id="2_fkybt"]
[ext_resource type="AudioStream" uid="uid://oi2jcr3t261w" path="res://Sounds/footsteps_2.mp3" id="3_x3wgy"]
[ext_resource type="AudioStream" uid="uid://cyi214coxb4uu" path="res://Sounds/footsteps_3.mp3" id="4_3smsa"]
[ext_resource type="AudioStream" uid="uid://d3cl56ajwlvkk" path="res://Sounds/footsteps_4.mp3" id="5_3smsa"]
[ext_resource type="AudioStream" uid="uid://owtyrb6134sa" path="res://Sounds/footsteps_5.mp3" id="6_8erm5"]
[ext_resource type="Script" uid="uid://ds4a1nd63d6cw" path="res://Scripts/Player_interact_area.gd" id="8_8erm5"]
[ext_resource type="PackedScene" uid="uid://njvmvepmvskt" path="res://Scenes/debug_panel.tscn" id="9_f1ek2"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_vgqql"]
radius = 0.20457

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_cvnsp"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6t5aa"]
animation = &"Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vgqql"]
advance_mode = 2
advance_expression = "velocity.length() > .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fkybt"]
advance_mode = 2
advance_expression = "velocity.length() <= .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_x3wgy"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_3smsa"]
states/Idle/node = SubResource("AnimationNodeAnimation_cvnsp")
states/Idle/position = Vector2(319, 135)
states/Walk/node = SubResource("AnimationNodeAnimation_6t5aa")
states/Walk/position = Vector2(450, 114)
transitions = ["Idle", "Walk", SubResource("AnimationNodeStateMachineTransition_vgqql"), "Walk", "Idle", SubResource("AnimationNodeStateMachineTransition_fkybt"), "Start", "Idle", SubResource("AnimationNodeStateMachineTransition_x3wgy")]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_f1ek2"]
radius = 1.26172

[node name="Player" type="CharacterBody3D" groups=["player"]]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
script = ExtResource("1_cvnsp")
walk_footsteps = Array[AudioStream]([ExtResource("2_fkybt"), ExtResource("3_x3wgy"), ExtResource("4_3smsa"), ExtResource("5_3smsa"), ExtResource("6_8erm5")])

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.901196, 0, 0, 0, 1, 0, 0.873724, 0)
shape = SubResource("CapsuleShape3D_vgqql")

[node name="AnimationLibrary_Godot_Standard" parent="." instance=ExtResource("2_6t5aa")]

[node name="Skeleton3D" parent="AnimationLibrary_Godot_Standard/Rig" index="0"]
bones/1/position = Vector3(0.00510996, 0.0872062, 0.875286)
bones/1/rotation = Quaternion(0.759378, -0.0886978, -0.0747801, 0.640223)
bones/3/rotation = Quaternion(-0.0283746, 0.000115797, 0.000124042, 0.999597)
bones/4/rotation = Quaternion(0.146231, 0.000316529, 0.000396573, 0.98925)
bones/5/rotation = Quaternion(0.0131972, -0.000239487, -0.000239887, 0.999913)
bones/6/rotation = Quaternion(-0.0027046, 0.0959839, -0.00356849, 0.995373)
bones/7/rotation = Quaternion(-0.602735, -0.371281, -0.396257, 0.584672)
bones/8/rotation = Quaternion(-0.277402, 0.672432, -0.502982, 0.46679)
bones/9/rotation = Quaternion(0.283754, 0.0327334, -0.00204301, 0.958336)
bones/10/rotation = Quaternion(0.106009, 0.00637576, -0.0256743, 0.994013)
bones/11/rotation = Quaternion(0.44519, 0.549369, -0.445194, 0.549365)
bones/12/rotation = Quaternion(0.623342, 6.13486e-08, 2.15438e-07, 0.781949)
bones/13/rotation = Quaternion(0.623341, -2.04856e-07, 6.31242e-08, 0.78195)
bones/14/rotation = Quaternion(0.43209, 0.5387, -0.458046, 0.559727)
bones/15/rotation = Quaternion(0.623341, 0.000943477, 0.00118364, 0.781949)
bones/16/rotation = Quaternion(0.623341, -0.000704321, -0.000883352, 0.781949)
bones/17/rotation = Quaternion(0.504057, 0.511541, -0.435152, 0.543042)
bones/18/rotation = Quaternion(0.623163, -0.0200615, 0.0149255, 0.781692)
bones/19/rotation = Quaternion(0.623342, 0.000379825, 0.000476617, 0.78195)
bones/20/rotation = Quaternion(0.43534, 0.541356, -0.454904, 0.557203)
bones/21/rotation = Quaternion(0.623342, 7.39393e-06, 9.58044e-06, 0.781949)
bones/22/rotation = Quaternion(0.623341, -0.000665145, -0.0008345, 0.781949)
bones/23/rotation = Quaternion(0.290838, 0.949649, 0.114583, 0.021217)
bones/24/rotation = Quaternion(0.21939, 0.0238026, -0.00530472, 0.975332)
bones/25/rotation = Quaternion(0.687388, -0.000309068, -0.000444658, 0.72629)
bones/26/rotation = Quaternion(-0.638895, 0.308752, 0.33122, 0.621915)
bones/27/rotation = Quaternion(-0.290587, -0.67854, 0.478098, 0.475989)
bones/28/rotation = Quaternion(0.36771, -0.146897, 0.0589449, 0.916371)
bones/29/rotation = Quaternion(0.116709, 0.00291669, 0.0447786, 0.992152)
bones/30/rotation = Quaternion(0.445191, -0.549369, 0.445194, 0.549365)
bones/31/rotation = Quaternion(0.623341, 2.17518e-07, 6.33371e-08, 0.78195)
bones/32/rotation = Quaternion(0.623342, 1.52451e-07, -2.12003e-07, 0.78195)
bones/33/rotation = Quaternion(0.43209, -0.5387, 0.458047, 0.559727)
bones/34/rotation = Quaternion(0.623341, -0.00094351, -0.0011834, 0.781949)
bones/35/rotation = Quaternion(0.623341, 0.000704174, 0.000883148, 0.781949)
bones/36/rotation = Quaternion(0.504057, -0.511541, 0.435152, 0.543042)
bones/37/rotation = Quaternion(0.623163, 0.0200611, -0.0149253, 0.781692)
bones/38/rotation = Quaternion(0.623342, -0.000380153, -0.000476532, 0.781949)
bones/39/rotation = Quaternion(0.43534, -0.541356, 0.454904, 0.557203)
bones/40/rotation = Quaternion(0.623341, -7.55302e-06, -9.27693e-06, 0.78195)
bones/41/rotation = Quaternion(0.623342, 0.000664924, 0.000834326, 0.781949)
bones/42/rotation = Quaternion(-0.290838, 0.949649, 0.114584, -0.021217)
bones/43/rotation = Quaternion(0.21939, -0.0238026, 0.00530485, 0.975332)
bones/44/rotation = Quaternion(0.687388, 0.000309234, 0.000444539, 0.72629)
bones/45/rotation = Quaternion(0.960483, 0.112342, -0.0138515, 0.254282)
bones/46/rotation = Quaternion(0.198416, -0.1113, 0.0226746, 0.973514)
bones/47/rotation = Quaternion(-0.500662, 0.022393, 0.0923506, 0.860411)
bones/48/rotation = Quaternion(-0.000137176, 0.964307, -0.264787, -0.000499421)
bones/49/rotation = Quaternion(0.992083, -0.122085, 0.0150527, 0.0252922)
bones/50/rotation = Quaternion(0.135177, 0.355895, -0.0521193, 0.923228)
bones/51/rotation = Quaternion(-0.586307, -0.0510635, -0.163281, 0.791818)
bones/52/rotation = Quaternion(-0.000137047, 0.964307, -0.264787, -0.000499421)

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../AnimationLibrary_Godot_Standard")
tree_root = SubResource("AnimationNodeStateMachine_3smsa")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../AnimationLibrary_Godot_Standard/AnimationPlayer")

[node name="Footsteps" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0437006, 0)
max_distance = 5.0

[node name="Interaction_area" type="Area3D" parent="."]
script = ExtResource("8_8erm5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Interaction_area"]
transform = Transform3D(1, 0, 0, 0, 0.0457073, 0, 0, 0, 1, 0, 0.117185, 0)
shape = SubResource("CylinderShape3D_f1ek2")

[node name="DebugPanel" parent="." instance=ExtResource("9_f1ek2")]
visible = false

[editable path="AnimationLibrary_Godot_Standard"]
