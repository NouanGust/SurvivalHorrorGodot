[gd_scene load_steps=9 format=3 uid="uid://csrb8wn2nxk7y"]

[ext_resource type="PackedScene" uid="uid://cd02euysm8rbg" path="res://Scenes/player.tscn" id="1_a02cp"]
[ext_resource type="PackedScene" uid="uid://c601o4igexja" path="res://Scenes/door.tscn" id="2_go701"]
[ext_resource type="Script" uid="uid://3xm5e4lijdmk" path="res://Scripts/camera_trigger.gd" id="3_5a7ea"]
[ext_resource type="PackedScene" uid="uid://dqacgmorgders" path="res://Scenes/zombie_normal.tscn" id="4_8j60k"]
[ext_resource type="PackedScene" uid="uid://njvmvepmvskt" path="res://Scenes/debug_panel.tscn" id="5_fo5ed"]

[sub_resource type="Environment" id="Environment_a02cp"]
ambient_light_color = Color(0, 0.0745098, 0, 1)
ambient_light_energy = 0.03

[sub_resource type="BoxShape3D" id="BoxShape3D_8j60k"]
size = Vector3(1.77319, 0.228516, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_8j60k"]
vertices = PackedVector3Array(-9.5, 1, -9.5, -9.5, 1, 29.5, 9.5, 1, 29.5, 9.5, 1, -9.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
agent_height = 1.0

[node name="World" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_a02cp")

[node name="Player" parent="." instance=ExtResource("1_a02cp")]
transform = Transform3D(0.610415, 0, 0.517102, 0, 0.8, 0, -0.517102, 0, 0.610415, 0.25435, 0.502349, -8.35298)

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.32594, 3.97669)
light_color = Color(0.800263, 0.867217, 1, 1)
light_energy = 1.2
shadow_enabled = true
omni_range = 3.5

[node name="OmniLight3D3" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.71619, -7.38324)
light_color = Color(0.800263, 0.867217, 1, 1)
light_energy = 1.2
shadow_enabled = true
omni_range = 3.5

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10.3131, 18.2762)
light_color = Color(0.943457, 0.864426, 0.580569, 1)
light_energy = 1.2
shadow_enabled = true
omni_range = 20.0

[node name="walls" type="Node3D" parent="."]

[node name="CSGBox3D" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1.48387, 2.53372, -1.46191)
use_collision = true
size = Vector3(16, 4, 1)

[node name="CSGBox3D4" type="CSGBox3D" parent="walls"]
transform = Transform3D(1.12573, 0, 0, 0, 0.996984, 0, 0, 0, 0.996984, 3.48908, 2.53372, 7.0393)
use_collision = true
size = Vector3(5, 4, 1)

[node name="CSGBox3D10" type="CSGBox3D" parent="walls"]
transform = Transform3D(0.846546, 0, -0.532315, 0, 1, 0, 0.532315, 0, 0.846546, 7.7177, 2.53372, 7.49173)
use_collision = true
size = Vector3(5, 4, 1)

[node name="CSGBox3D11" type="CSGBox3D" parent="walls"]
transform = Transform3D(0.908011, 0, 0.418945, 0, 1, 0, -0.418945, 0, 0.908011, -7.73669, 2.53372, 7.49173)
use_collision = true
size = Vector3(5, 4, 1)

[node name="CSGBox3D5" type="CSGBox3D" parent="walls"]
transform = Transform3D(1.17117, 0, 0, 0, 1, 0, 0, 0, 1, -3.26647, 2.53372, 7.0393)
use_collision = true
size = Vector3(5, 4, 1)

[node name="CSGBox3D6" type="CSGBox3D" parent="walls"]
transform = Transform3D(0.373016, 0, 0, 0, 0.361728, 0, 0, 0, 1, 0.128098, 3.55423, 7.0393)
use_collision = true
size = Vector3(4.99011, 4.97931, 1)

[node name="CSGBox3D2" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -1.25092, 2.53372, -1.46191)
use_collision = true
size = Vector3(16, 4, 1)

[node name="CSGBox3D3" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0512289, 2.53372, -9.94355)
use_collision = true
size = Vector3(20, 4, 1)

[node name="CSGBox3D7" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0512289, 2.53372, 29.3435)
use_collision = true
size = Vector3(20, 4, 1)

[node name="CSGBox3D8" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -9.54443, 2.53372, 18.8586)
use_collision = true
size = Vector3(20, 4, 1)

[node name="CSGBox3D9" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 9.47798, 2.53372, 18.8586)
use_collision = true
size = Vector3(20, 4, 1)

[node name="Door" parent="." instance=ExtResource("2_go701")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.17216, 1.57926, 6.87363)

[node name="Cameras" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="Cameras"]
transform = Transform3D(1, 0, 0, 0, 0.991418, 0.130734, 0, -0.130734, 0.991418, 0, 3.21538, -3.01203)
current = true

[node name="Area3D" type="Area3D" parent="Cameras/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 1.49012e-08, 1, 0, -3.18918, -0.420544)
script = ExtResource("3_5a7ea")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Cameras/Camera3D/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.121704, 0.763753, -0.224851)
shape = SubResource("BoxShape3D_8j60k")

[node name="Camera3D2" type="Camera3D" parent="Cameras"]
transform = Transform3D(-1, 1.1411e-08, -8.66749e-08, 0, 0.991445, 0.130526, 8.74228e-08, 0.130526, -0.991445, 0, 3.21538, -1.28005)

[node name="Area3D" type="Area3D" parent="Cameras/Camera3D2"]
transform = Transform3D(1, 0, -2.13163e-14, 0, 1, 0, 0, 0, 1, -0.216706, -3.20909, -0.422484)
script = ExtResource("3_5a7ea")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Cameras/Camera3D2/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.121704, 0.763753, -0.224851)
shape = SubResource("BoxShape3D_8j60k")

[node name="Camera3D3" type="Camera3D" parent="Cameras"]
transform = Transform3D(0.221548, -0.127283, 0.966807, 8.88178e-16, 0.991445, 0.130526, -0.975149, -0.0289179, 0.219653, 6.87955, 3.21538, 9.1673)

[node name="Area3D" type="Area3D" parent="Cameras/Camera3D3"]
transform = Transform3D(0.258499, 0.12609, -0.957747, -0.12609, 0.987367, 0.0959574, 0.957747, 0.0959574, 0.271132, -0.760481, -2.3805, -7.03043)
script = ExtResource("3_5a7ea")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Cameras/Camera3D3/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.121704, 0.763753, -0.224851)
shape = SubResource("BoxShape3D_8j60k")

[node name="TestCam" type="Camera3D" parent="Cameras"]
transform = Transform3D(0.665074, 0, 0.746778, 0, 1, 0, -0.746778, 0, 0.665074, -2.58146, 1.35964, 11.8154)

[node name="OmniLight3D" type="OmniLight3D" parent="Cameras/TestCam"]
transform = Transform3D(1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, 1, 0.556898, 3.14681, -1.37743)
light_color = Color(0.494118, 0, 0.027451, 1)
light_energy = 3.5
omni_range = 21.644

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_8j60k")

[node name="ground" type="CSGBox3D" parent="NavigationRegion3D"]
use_collision = true
size = Vector3(20, 1, 20)

[node name="ground2" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 19.9416)
use_collision = true
size = Vector3(20, 1, 20)

[node name="Zombie_normal" parent="." node_paths=PackedStringArray("target") instance=ExtResource("4_8j60k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.35349, 0.504591, 9.37516)
target = NodePath("../Player")

[node name="DebugPanel" parent="." instance=ExtResource("5_fo5ed")]

[connection signal="body_entered" from="Cameras/Camera3D/Area3D" to="Cameras/Camera3D/Area3D" method="_on_body_entered"]
[connection signal="body_exited" from="Cameras/Camera3D/Area3D" to="Cameras/Camera3D/Area3D" method="_on_body_exited"]
[connection signal="body_entered" from="Cameras/Camera3D2/Area3D" to="Cameras/Camera3D2/Area3D" method="_on_body_entered"]
[connection signal="body_exited" from="Cameras/Camera3D2/Area3D" to="Cameras/Camera3D2/Area3D" method="_on_body_exited"]
[connection signal="body_entered" from="Cameras/Camera3D3/Area3D" to="Cameras/Camera3D3/Area3D" method="_on_body_entered"]
[connection signal="body_exited" from="Cameras/Camera3D3/Area3D" to="Cameras/Camera3D3/Area3D" method="_on_body_exited"]
